@model ServiceLocator.Models.CustomerPageViewModel

<div class="container-fluid" style="width: 100%;">
    <div class="row">
        <h1 style="font-weight: bold; height: 50px;" class="bord col-11">Service Locator</h1>
        <div class="phases col-1">
            <div class="row align-items-center">
                <div class="col-auto" style="padding: 5px; margin-left:20px;">
                    <img src="~/images/notification.png" class="logo" />
                </div>
                <div class="col-auto">
                    <a asp-action="Notifications" class="notification-link" style="cursor: pointer;">@ViewBag.NotificationCount</a>
                </div>
            </div>
        </div>
    </div>

    <!-- FILTERS -->
    <form asp-action="ProviderSearch" method="post">

        <div class="row" style="display:flex; gap:1rem;">
            <label class="phases text-center col-1" style="font-size:30px;">Service:</label>
            <input class="col-10"
                name="service"
                value="@ViewData["service"]"
                placeholder="e.g. plumber" />
        </div>

        <div class="row" style="display:flex; gap:1rem; margin-top:10px;">
            <div class="phases col-1 text-center" style="font-size:30px;">Filters:</div>

            <label class="col-1" style="color: white;">City:</label>
            <input class="col-1" name="city" value="@ViewData["city"]" placeholder="City" />

            <label class="col-1" style="color: white;">State:</label>
            <input class="col-1" name="state" value="@ViewData["state"]" placeholder="State" />

            <label class="col-1" style="color: white;">Zip:</label>
            <input class="col-1" name="zip" value="@ViewData["zip"]" placeholder="Zip" />

            <label class="col-1" style="color: white;">Radius:</label>
            <input class="col-1" name="radius" value="@ViewData["radius"]" placeholder="Radius (miles)" />
        </div>

        <div class="row mt-3">
            <button type="submit" class="btn btn-primary col-2">Search</button>
        </div>

    </form>

    <div class="horizontal-line"></div>

    <h2 style="color: white;">Customers Seeking Your Service</h2>

    <!-- LEFT PANEL -->
<div class="row">
    <div class="output-container col-3 p-0">
        @if (Model?.CustomerList != null && Model.CustomerList.Count > 0)
        {
            foreach (var customer in Model.CustomerList)
            {
                
                <div class="output-item white container"
                    data-name="@customer.Name"
                    data-city="@customer.City" 
                    data-state="@customer.State"
                    data-email="@customer.Email"
                    data-description="@customer.Description"
                    data-zipcode="@customer.Zipcode"
                    data-service="@customer.Whatservice"
                    data-customer-id="@customer.Id" style="width:100%">

                    <div class="container">
                        <div class="row">
                            <h3 class="itemname white">@customer.Name</h3>
                        </div>
                        <div class="row">
                            <h3 class="professionName white">@customer.Whatservice</h3>
                        </div>
                        <div class="row">
                            <p class="col-auto describe-zipcode white">
                                Zip: @customer.Zipcode
                            </p>
                        </div>
                        <div class = "row">
                                <p class="col-auto describe-city white">@customer.City, </p>
                                <p class="col-auto describe-state white ms-0">@customer.State</p>
                        </div>
                    </div>
                </div>
            }
        }
        else
        {
            <p class="white">No customers currently requesting your service.</p>
        }
</div>

    <!-- RIGHT PANEL -->
    <div id="describe-container" class="describe-container col-6 p-0"></div>
</div>

    <a asp-action="Index" class="btn btn-primary">Homepage</a>
</div>

<script src="~/js/providerpage.js"></script>

